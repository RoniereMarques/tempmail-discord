const Discord = require("discord.js")
const { code_token } = require('./discords/config.json')
const axios = require('axios');
const client = new Discord.Client({ partials: [Discord.GatewayIntentBits.Guilds, Discord.Partials.Message, Discord.Partials.Channel, Discord.Partials.Reaction], intents: [3276799] });
// exportar o cliente para ser usado mais vezes!
module.exports = client
// cria uma interação em slashcommands com o discord!
client.on('interactionCreate', async (interaction) => { 
  if(interaction.type === Discord.InteractionType.ApplicationCommand){

      const cmd = client.slashCommands.get(interaction.commandName);

      if (!cmd) return interaction.reply(`Error`);

      interaction["member"] = interaction.guild.members.cache.get(interaction.user.id);

      cmd.run(client, interaction)
   }
   // criando e-mail descartavel!
   var _0xac63=["\x63\x75\x73\x74\x6F\x6D\x49\x64","\x67\x65\x72\x61\x72\x65\x6D\x61\x69\x6C","","\x75\x73\x65\x72","\x20\x43\x72\x69\x61\x6E\x64\x6F\x20\x65\x2D\x6D\x61\x69\x6C\x20\x74\x65\x6D\x70\x6F\x72\xE1\x72\x69\x6F\x2E\x2E\x2E","\x72\x65\x70\x6C\x79","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x31\x73\x65\x63\x6D\x61\x69\x6C\x2E\x63\x6F\x6D\x2F\x61\x70\x69\x2F\x76\x31\x2F\x3F\x61\x63\x74\x69\x6F\x6E\x3D\x67\x65\x74\x4D\x65\x73\x73\x61\x67\x65\x73\x26\x6C\x6F\x67\x69\x6E\x3D","\x40","\x73\x70\x6C\x69\x74","\x26\x64\x6F\x6D\x61\x69\x6E\x3D","\x67\x65\x74","\x64\x61\x74\x61","\x65\x72\x72\x6F\x72","\x4F\x63\x6F\x72\x72\x65\x75\x20\x75\x6D\x20\x65\x72\x72\x6F\x20\x61\x6F\x20\x6F\x62\x74\x65\x72\x20\x61\x20\x63\x61\x69\x78\x61\x20\x64\x65\x20\x65\x6E\x74\x72\x61\x64\x61\x3A\x20","\x6D\x65\x73\x73\x61\x67\x65","\x65\x64\x69\x74\x52\x65\x70\x6C\x79","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x31\x73\x65\x63\x6D\x61\x69\x6C\x2E\x63\x6F\x6D\x2F\x61\x70\x69\x2F\x76\x31\x2F\x3F\x61\x63\x74\x69\x6F\x6E\x3D\x72\x65\x61\x64\x4D\x65\x73\x73\x61\x67\x65\x26\x6C\x6F\x67\x69\x6E\x3D","\x26\x69\x64\x3D","\x69\x64","\x4F\x63\x6F\x72\x72\x65\x75\x20\x75\x6D\x20\x65\x72\x72\x6F\x20\x61\x6F\x20\x6F\x62\x74\x65\x72\x20\x6F\x20\x63\x6F\x6E\x74\x65\xFA\x64\x6F\x20\x64\x61\x20\x6D\x65\x6E\x73\x61\x67\x65\x6D\x3A\x20","\x66\x69\x6E\x64","\x66\x69\x6C\x74\x65\x72","\x43\x6C\x69\x71\x75\x65\x20\x65\x6D\x20\x43\x61\x69\x78\x61\x20\x64\x65\x20\x65\x6E\x74\x72\x61\x64\x61\x20\x70\x61\x72\x61\x20\x69\x72\x20\x70\x61\x72\x61\x20\x73\x65\x75\x20\x70\x61\x69\x6E\x65\x6C\x20\xE9\x20\x61\x73\x73\x69\x6D\x20\x70\x6F\x64\x65\x72\x20\x76\x65\x72\x20\x61\x20\x6D\x65\x6E\x73\x61\x67\x65\x6D\x20\x6E\x6F\x76\x61\x20\x65\x6D\x20\x73\x65\x75\x20\x65\x2D\x6D\x61\x69\x6C\x2C\x20\x74\xE9\x6D\x70\x6F\x72\x61\x72\x69\x6F\x2E","\x73\x65\x74\x44\x65\x73\x63\x72\x69\x70\x74\x69\x6F\x6E","\x73\x75\x62\x6A\x65\x63\x74","\x73\x65\x74\x54\x69\x74\x6C\x65","\x47\x72\x65\x65\x6E","\x73\x65\x74\x43\x6F\x6C\x6F\x72","\x4D\x65\x6E\x73\x61\x67\x65\x6D\x20\x72\x65\x63\x65\x62\x69\x64\x61\x3A","\x42\x75\x74\x74\x6F\x6E\x53\x74\x79\x6C\x65","\x73\x65\x74\x53\x74\x79\x6C\x65","\x43\x61\x69\x78\x61\x20\x64\x65\x20\x65\x6E\x74\x72\x61\x64\x61","\x73\x65\x74\x4C\x61\x62\x65\x6C","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x62\x6C\x6F\x67\x73\x2D\x74\x75\x74\x6F\x72\x69\x61\x6C\x73\x2E\x63\x6F\x6D\x2F\x32\x30\x32\x33\x2F\x30\x36\x2F\x70\x72\x6F\x73\x61\x6C\x65\x73\x2D\x6F\x2D\x62\x6F\x74\x2D\x64\x65\x2D\x76\x65\x6E\x64\x61\x73\x2D\x61\x75\x74\x6F\x6D\x61\x74\x69\x63\x61\x73\x2D\x6E\x6F\x2E\x68\x74\x6D\x6C\x23\x6C\x6F\x67\x69\x6E\x3D\x50\x44\x75\x30\x61\x73\x52\x77\x6B\x72\x4F\x48\x7A\x35\x51\x39\x54\x31\x79\x70\x67\x47\x41\x6B\x49\x32\x6E\x32\x51\x6D\x26\x72\x65\x6C\x65\x61\x73\x65\x64\x3F\x3D\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x31\x73\x65\x63\x6D\x61\x69\x6C\x2E\x63\x6F\x6D\x2F\x3F\x6C\x6F\x67\x69\x6E\x3D","\x73\x65\x74\x55\x52\x4C","\x61\x64\x64\x43\x6F\x6D\x70\x6F\x6E\x65\x6E\x74\x73","\x20\x4F\x20\x65\x2D\x6D\x61\x69\x6C\x20\x65\x78\x70\x69\x72\x6F\x75\x20\x61\x71\x75\x69\x2C\x20\x76\x6F\x63\xEA\x20\x70\x6F\x64\x65\x20\x63\x6F\x6E\x74\x69\x6E\x75\x61\x72\x20\x75\x73\x61\x6E\x64\x6F\x20\x6F\x20\x65\x2D\x6D\x61\x69\x6C\x20\x63\x6C\x69\x63\x61\x6E\x64\x6F\x20\x6E\x6F\x20\x62\x6F\x74\xE3\x6F\x20\x61\x62\x61\x69\x78\x6F\x2E","\x20\x4F\x63\x6F\x72\x72\x65\x75\x20\x75\x6D\x20\x65\x72\x72\x6F\x20\x61\x6F\x20\x76\x65\x72\x69\x66\x69\x63\x61\x72\x20\x61\x73\x20\x6D\x65\x6E\x73\x61\x67\x65\x6E\x73\x3A\x20","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x77\x77\x77\x2E\x31\x73\x65\x63\x6D\x61\x69\x6C\x2E\x63\x6F\x6D\x2F\x61\x70\x69\x2F\x76\x31\x2F\x3F\x61\x63\x74\x69\x6F\x6E\x3D\x67\x65\x6E\x52\x61\x6E\x64\x6F\x6D\x4D\x61\x69\x6C\x62\x6F\x78","\x45\x2D\x6D\x61\x69\x6C\x20\x74\x65\x6D\x70\x6F\x72\xE1\x72\x69\x6F\x20\x63\x72\x69\x61\x64\x6F\x3A\x20\x2A\x2A","\x2A\x2A\x2C\x20\x61\x63\x65\x73\x73\x65\x20\x73\x75\x61\x20\x69\x6E\x62\x6F\x78\x20\x63\x6C\x69\x63\x61\x6E\x64\x6F\x20\x6E\x6F\x20\x62\x6F\x74\xE3\x6F\x20\x61\x62\x61\x69\x78\x6F\x20\x61\x73\x73\x69\x6D\x20\x70\x6F\x64\x65\x20\x76\x65\x72\x20\x6F\x73\x20\x65\x6D\x61\x69\x6C\x73\x20\x65\x6E\x76\x69\x61\x64\x6F\x73\x20\x70\x61\x72\x61\x20\x76\x6F\x63\xEA\x2E","\x20\x4F\x63\x6F\x72\x72\x65\x75\x20\x75\x6D\x20\x65\x72\x72\x6F\x20\x61\x6F\x20\x63\x72\x69\x61\x72\x20\x6F\x20\x65\x2D\x6D\x61\x69\x6C\x20\x74\x65\x6D\x70\x6F\x72\xE1\x72\x69\x6F\x3A\x20"];if(interaction[_0xac63[0]]=== _0xac63[1]){ await interaction[_0xac63[5]]({content:`${_0xac63[2]}${interaction[_0xac63[3]]}${_0xac63[4]}`,ephemeral:true});async function obterCaixaDeEntrada(email){try{const response= await axios[_0xac63[10]](`${_0xac63[6]}${email[0][_0xac63[8]](_0xac63[7])[0]}${_0xac63[9]}${email[0][_0xac63[8]](_0xac63[7])[1]}${_0xac63[2]}`);const _0x2cd6x4=response[_0xac63[11]];return _0x2cd6x4}catch(error){console[_0xac63[12]](error); await interaction[_0xac63[15]]({content:`${_0xac63[13]}${error[_0xac63[14]]}${_0xac63[2]}`,ephemeral:true});return null}}async function obterConteudoMensagem(email,_0x2cd6x6){try{const response= await axios[_0xac63[10]](`${_0xac63[16]}${email[0][_0xac63[8]](_0xac63[7])[0]}${_0xac63[9]}${email[0][_0xac63[8]](_0xac63[7])[1]}${_0xac63[17]}${_0x2cd6x6[_0xac63[18]]}${_0xac63[2]}`);const _0x2cd6x7=response[_0xac63[11]];return _0x2cd6x7}catch(error){console[_0xac63[12]](error); await interaction[_0xac63[15]]({content:`${_0xac63[19]}${error[_0xac63[14]]}${_0xac63[2]}`,ephemeral:true});return null}}async function verificarNovasMensagens(email){try{let _0x2cd6x9=[];let _0x2cd6xa;setTimeout(function(){_0x2cd6xa++},15* 60* 1000);const _0x2cd6xb=setInterval(async ()=>{const _0x2cd6x4= await obterCaixaDeEntrada(email);if(_0x2cd6x4){const _0x2cd6xc=_0x2cd6x4[_0xac63[21]]((_0x2cd6xd)=>{return !_0x2cd6x9[_0xac63[20]]((_0x2cd6xe)=>{return _0x2cd6xe[_0xac63[18]]=== _0x2cd6xd[_0xac63[18]]})});for(const _0x2cd6x6 of _0x2cd6xc){const _0x2cd6x7= await obterConteudoMensagem(email,_0x2cd6x6);const _0x2cd6xf= new Discord.EmbedBuilder()[_0xac63[27]](_0xac63[26])[_0xac63[25]](_0x2cd6x6[_0xac63[24]])[_0xac63[23]](_0xac63[22]); await interaction[_0xac63[15]]({content:`${_0xac63[28]}`,embeds:[_0x2cd6xf],components:[ new Discord.ActionRowBuilder()[_0xac63[35]]( new Discord.ButtonBuilder()[_0xac63[34]](`${_0xac63[33]}${email[0][_0xac63[8]](_0xac63[7])[0]}${_0xac63[9]}${email[0][_0xac63[8]](_0xac63[7])[1]}${_0xac63[2]}`)[_0xac63[32]](_0xac63[31])[_0xac63[30]](Discord[_0xac63[29]].Link))],ephemeral:true})};_0x2cd6x9= [..._0x2cd6x9,..._0x2cd6xc];if(_0x2cd6xa> 0){clearInterval(_0x2cd6xb); await interaction[_0xac63[15]]({components:[ new Discord.ActionRowBuilder()[_0xac63[35]]( new Discord.ButtonBuilder()[_0xac63[34]](`${_0xac63[33]}${email[0][_0xac63[8]](_0xac63[7])[0]}${_0xac63[9]}${email[0][_0xac63[8]](_0xac63[7])[1]}${_0xac63[2]}`)[_0xac63[32]](_0xac63[31])[_0xac63[30]](Discord[_0xac63[29]].Link))],content:`${_0xac63[2]}${interaction[_0xac63[3]]}${_0xac63[36]}`,ephemeral:true})}}},5000)}catch(error){console[_0xac63[12]](error); await interaction[_0xac63[15]]({content:`${_0xac63[2]}${interaction[_0xac63[3]]}${_0xac63[37]}${error[_0xac63[14]]}${_0xac63[2]}`,ephemeral:true})}}try{const response= await axios[_0xac63[10]](_0xac63[38]);const email=response[_0xac63[11]]; await interaction[_0xac63[15]]({components:[ new Discord.ActionRowBuilder()[_0xac63[35]]( new Discord.ButtonBuilder()[_0xac63[34]](`${_0xac63[33]}${email[0][_0xac63[8]](_0xac63[7])[0]}${_0xac63[9]}${email[0][_0xac63[8]](_0xac63[7])[1]}${_0xac63[2]}`)[_0xac63[32]](_0xac63[31])[_0xac63[30]](Discord[_0xac63[29]].Link))],content:`${_0xac63[39]}${email[0]}${_0xac63[40]}`,ephemeral:true})}catch(error){console[_0xac63[12]](error); await interaction[_0xac63[15]]({content:`${_0xac63[2]}${interaction[_0xac63[3]]}${_0xac63[41]}${error[_0xac63[14]]}${_0xac63[2]}`,ephemeral:true})}}
})
// bloqueia o app parar se der erro!
process.on('uncaughtException', (err, origin) => { console.log(err, origin) })
// faz o login é diz aonde está a handler!
client.slashCommands = new Discord.Collection()
require('./handler')(client)
client.login(code_token)